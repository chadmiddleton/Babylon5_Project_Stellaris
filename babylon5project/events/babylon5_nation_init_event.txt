### Babylon 5 Station AI Event
namespace = babylon5
country_event = {
	id = babylon5.1000
	hide_window = yes
	fire_only_once = yes
	
	trigger = {
		is_country_type = default
		
	}
	
	mean_time_to_happen = {
		# Bring B5 Station online 100 years after game start
		months = 1200
	}
	
	immediate = {
		### Create Independent B5 Nation
		set_global_flag = babylon5_nation
		set_global_flag = galactic_crisis_happened
		
		random_system = {
			limit = {
				NOT = {
					any_country = {
						is_country_type = fallen_empire
						any_system_within_border = {
							is_same_value = prev
						}
					}
				}
			}
			set_star_flag = babylon5_nation_origin_system
			save_event_target_as = babylon5_nation_system
			random_system_planet = {
				# Create B5 Species
				create_species = {
					name = "Human"
					class = MAM
					portrait = earthalliance_sheridan_1
					traits = trait_talented
				}
				### Create B5 Country
				create_country = {
					name = "Babylon 5"
					type = "babylon5_nation"
					species = last_created
					name_list = "EARTHALLIANCE1"
					flag = {
						icon= {
							category = "babylon5"
							file = "babylon5_station_1.dds"
						}
						background= {
							category = "backgrounds"
							file = "circle.dds"
						}
						colors={
							"indigo"
							"blue"
							"null"
							"null"
						}
					}
				}
				last_created_species = { save_event_target_as = babylon5_nation_species }				
				
				### Create Star System Objects
								
				### Create Fleet Elements
				last_created_country = {
					save_event_target_as = babylon5_nation
					
					### Create Ship Designs
					create_ship_design = { design = "White Star" }
					add_ship_design = last_created_design
					create_ship_design = { design = "Victory" }
					add_ship_design = last_created_design
					create_ship_design = { design = "Valen" }
					add_ship_design = last_created_design
					create_ship_design = { design = "Freedom" }
					add_ship_design = last_created_design
					
					save_event_target_as = babylon5_nation
					
					### Create B5 Station
					create_fleet = { name = "Babylon 5" }
					last_created_fleet = {
						set_owner = PREV
						create_ship = {
							# Actual name of B5 Gate
							name = "Babylon 5"
							design = "O'Neill" # Actual name of B5 Station Class
							graphical_culture = "extra_dimensional_01"
						}
						set_location = {
							target = PREVPREV
							distance = 40
							angle = random
						}
						save_event_target_as = babylon5_nation
						
						fleet_event = { id = babylon5.1006 days = 30 } # First Constructor Arrives
						fleet_event = { id = babylon5.1006 days = 60 } # Second Constructor Arrives
						fleet_event = { id = babylon5.1006 months = 6 } # Third Constructor Arrives
						fleet_event = { id = babylon5.1006 months = 12 } # Fourth Constructor Arrives
					}
				
					
					### Create Ship Fleets
					create_fleet = { }
					
					### Configure Fleet Admiral
					create_leader = {
						type = admiral
						species = event_target:babylon5_nation_species
						name = "John Sheridan"
						skill = 1200
						traits = {
							trait = leader_trait_trickster
						}
					}
					
					### Create First Fleet of Ships
					last_created_fleet = {
						set_owner = PREV
						
						## Create 8 "White Star" class ships
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						assign_leader = last_created_leader
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "White Star"
							graphical_culture = "extra_dimensional_01"
						}
						
						### Create 10 "Victory" Class Ships
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Victory"
							graphical_culture = "extra_dimensional_01"
						}
						
						### Create 20 "Valen" Class Ships
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						create_ship = {
							name = random
							design = "Valen"
							graphical_culture = "extra_dimensional_01"
						}
						set_location = {
							target = event_target:dimensional_portal
							distance = 5
							angle = random
						}
						set_fleet_stance = defensive
						#set_aggro_range = 500
						#set_aggro_range_measure_from = self
					
					} #-last_created_fleet					
				} #-last_created_country
			} #-random_system_planet
		} #-random_system	
	} # -immediate
} # -country_event
			
#########################################
### Constructor
#########################################
fleet_event = {
	id = babylon5.1006
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		event_target:extradimensionals = {
			create_fleet = { }
			last_created_fleet = {
				set_owner = PREV
				create_ship = {
					name = random
					design = "Void Shaper"
					graphical_culture = "extra_dimensional_01"
				}
				set_location = {
					target = ROOT
					distance = 5
					angle = random
				}
			}
		}
	}
}
### END 
